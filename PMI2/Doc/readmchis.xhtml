<?xml version="1.0" encoding="iso-8859-1"?>
<?xml-stylesheet type="text/css" href="pmi.css"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" 
		  "http://www.w3.org/TR/MathML2/dtd/xhtml-math11-f.dtd"
		[ <!ENTITY mathml "http://www.w3.org/1998/Math/MathML"> ]>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>Load tMCimg history file</title>
  <meta name="Generator" content="/usr/bin/emacs" />
  <link rel="Contents"  href="pmi-toc.xhtml" />
  <link rel="Copyright" href="pmi-gpl.xhtml" />
  <link rel="Index"     href="sorted-index.xhtml" />
  <link rel="Start"     href="index.xhtml" />
  <!-- These three are for the benefit of HTML-only browsers -->
  <meta http-equiv="Content-Language" content="en-us" />
  <meta http-equiv="Content-Type" content="text/xml; charset=iso-8859-1" />
  <link rel="stylesheet" type="text/css"  href="pmi.css" />
</head>
<!-- ====================================================================
     PMI Toolbox Documentation
     Copyright (C) 2004  Jonathan Stott
     
     This program is free software; you can redistribute it and/or
     modify it under the terms of the GNU General Public License
     as published by the Free Software Foundation; either version 2
     of the License, or (at your option) any later version.
     
     This program is distributed in the hope that it will be useful,
     but WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     GNU General Public License for more details.
     
     You should have received a copy of the GNU General Public License
     along with this program; if not, write to the Free Software
     Foundation, Inc., 59 Temple Place - Suite 330, 
     Boston, MA  02111-1307, USA.
 ==================================================================== -->
<body>
<h1 id="Title">Import tMCimg History Files</h1>

<p id="Description"><mat>readMCHis()</mat> reads the history file
generated by 
<a href="http://www.nmr.mgh.harvard.edu/~jstott/tMCimg/">tMCimg</a>.  
Every photon reaching a detector is save to disk along with the
distance traveled in each type of tissue.  Summing these photons gives
not only the signal recorded at the detector but also an easy way to
see the effect of changing to absorption (but not the scattering) in
different tissue regions.</p>

<h2 id="Summary">Function Summary</h2>

<table class="syntaxTable" title="readMCHis.m">
<tr><th class="syntaxHead">Syntax:</th>
    <td class="matfunc" colspan="2">
      [phi, nph] = readMCHis(filename, mua_vec);
    </td>
</tr>
<tr><th rowspan="2" class="syntaxHead">Inputs:</th>
    <td class="varname">filename</td>
    <td>History file to read (without the .his extension)</td>
</tr>
<tr>
    <td class="varname">mua_vec</td>
    <td>Matrix of tissue absorption coefficients</td>
</tr>
<tr><th rowspan="2" class="syntaxHead">Outputs:</th>
    <td class="varname">phi</td>
    <td>Total fluence at each detector</td>
</tr>
<tr>
    <td class="varname">nph</td>
    <td>Total number of photons reaching each detector</td>
</tr>
</table>

<h2 id="Details">Detailed Descriptions</h2>

<p>The absorption can be adjusted after the fact because the path
lengths are recorded in the history file and changing the absorption
only changes the photon weightings, not its path.  Changing the
scattering, though, would change the actual path length distributions,
and therefore to change the scattering requires re-running the
simulation.</p>

<div class="Footer">
  <hr />
  <div class="linkblk" style="text-align: left">
    <a href="index.html">First Page</a>
  </div>
  <div class="linkblk" style="text-align: center">
    <a href="pmi-toc.xhtml">Table of Contents</a>
  </div>
  <div class="linkblk" style="text-align: right">
    <a href="pmi-gpl.xhtml">Copyright</a>
  </div>
</div>

</body>
</html>

