<?xml version="1.0" encoding="iso-8859-1"?>
<?xml-stylesheet type="text/css" href="pmi.css"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" 
		  "http://www.w3.org/TR/MathML2/dtd/xhtml-math11-f.dtd"
		[ <!ENTITY mathml "http://www.w3.org/1998/Math/MathML"> ]>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>PMI: The Measurement List</title>
  <meta name="Generator" content="/usr/bin/emacs" />
  <link rel="Contents"  href="pmi-toc.xhtml" />
  <link rel="Copyright" href="pmi-gpl.xhtml" />
  <link rel="Index"     href="sorted-index.xhtml" />
  <link rel="Start"     href="index.xhtml" />
  <!-- These three are for the benefit of HTML-only browsers -->
  <meta http-equiv="Content-Language" content="en-us" />
  <meta http-equiv="Content-Type" content="text/xml; charset=iso-8859-1" />
  <link rel="stylesheet" type="text/css"  href="pmi.css" />
</head>
<!-- ====================================================================
     PMI Toolbox Documentation
     Copyright (C) 2004  Jonathan Stott
     
     This program is free software; you can redistribute it and/or
     modify it under the terms of the GNU General Public License
     as published by the Free Software Foundation; either version 2
     of the License, or (at your option) any later version.
     
     This program is distributed in the hope that it will be useful,
     but WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     GNU General Public License for more details.
     
     You should have received a copy of the GNU General Public License
     along with this program; if not, write to the Free Software
     Foundation, Inc., 59 Temple Place - Suite 330, 
     Boston, MA  02111-1307, USA.
 ==================================================================== -->
<body>
<h1 id="Title">The Measurement List</h1>

<p  id="Description">
The measurement list, <mat>SD.MeasList</mat>, is an
<math xmlns="&mathml;">
  <msub>
    <mi>N</mi> 
    <mi>meas</mi>
  </msub> 
  <mo>&times;</mo>
  <msub>
    <mi>N</mi> 
    <mi>field</mi>
  </msub>
</math>
(currently
<math xmlns="&mathml;">
  <msub>
    <mi>N</mi> 
    <mi>field</mi>
  </msub>
  <mo>=</mo>
  <mn>9</mn>
</math>)
table of indices into the other fields in the 
<mat><a href="pmi-sd.xhtml">SD</a></mat> structure.
Because the optical properties in the 
<mat><a href="pmi-medium.xhtml">Medium</a></mat> structure are in the
same order as the wavelengths in <mat>SD.Lambda</mat>, 
<mat>SD.MeasList(:,4)</mat> also serves as an indirect index into the
fields of the <mat><a href="pmi-medium.xhtml">Medium</a></mat>
structure.  If the corresponding field in the
<mat><a href="pmi-sd.xhtml">SD</a></mat> structure is either an empty
list or not defined at all (e.g., because it is not appropriate for
the imager in question), a value of <mat>0</mat> should be used in the
measurement list to indicate that this parameter is not used.  All other 
columns must contain valid Matlab array indices.
</p>

<p> The nine rows of <mat>SD.MeasList</mat> are indicies into the
following vector or matrix fields in the 
<mat><a href="pmi-sd.xhtml">SD</a></mat> structure:
<ol>
  <li> <mat>SD.SrcPos</mat></li>
  <li> <mat>SD.DetPos</mat></li>
  <li> <mat>SD.ModFreq</mat></li>
  <li> <mat>SD.Lambda</mat></li>
  <li> Emission Wavelength (not implemented)</li>
  <li> <mat>SD.TimeDelay</mat></li>
  <li> <mat>SD.TimeGateWidth</mat></li>
  <li> Correlation Time (not implemented)</li>
  <li> <mat>SD.DataFormat</mat> (not implemented).</li>
</ol>
For matrix fields, the index is into the leading dimension.  For
example, if <mat>SD.MeasList(5,2)</mat> is <mat>3</mat>, then the
position of the detector (<mat>SD.MeasList(:,2)</mat>) used to make
measurement <mat>5</mat> is stored in <mat>SD.DetPos(3,:)</mat>.  Note
that the number of fields in the measurement list is not fixed;
additional fields will be added in the future as the need arises.  The
order of the existing fields, however, is guaranteed not to
change.</p>

<p>
Because <mat>SD.Lambda</mat> is used in fluorescence imaging to hold
both the excitation and emission wavelengths, both
<mat>SD.MeasList(:,4)</mat> and <mat>SD.MeasList(:,5)</mat> are
indices <mat>SD.Lambda</mat> and the two columns of the measurement
list indicate their function (in the context of the forward problem)
as well as the wavelength.
</p>

<p>Similarly, <mat>SD.TimeDelay</mat> is used to hold both the delay
time between when the light enters the tissue and when the measurement
is made (<mat>SD.MeasList(:,6)</mat>) and the correlation between two
events separated in time (<mat>SD.MeasList(:,7)</mat>).  </p>

<p> Normally, the measurement list is generated automatically, either
by <mat><a href="pmidata.xhtml">readPMIData()</a></mat> (which
initializes the measurement list as it loads in experimental data) or
by <mat><a href="genmeaslist.xhtml">genMeasList()</a></mat> (which
generates measurement lists for simulations).  </p>

<div class="Footer">
  <hr />
  <div class="linkblk" style="text-align: left">
    <a href="index.html">First Page</a>
  </div>
  <div class="linkblk" style="text-align: center">
    <a href="pmi-toc.xhtml">Table of Contents</a>
  </div>
  <div class="linkblk" style="text-align: right">
    <a href="pmi-gpl.xhtml">Copyright</a>
  </div>
</div>

</body>
</html>
